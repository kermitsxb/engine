{
  "name": "invoices",
  "version": "0.0.1",
  "database": {
    "url": "postgresql://admin:admin@localhost:5434/master",
    "provider": "postgresql"
  },
  "tables": {
    "invoices": {
      "fields": {
        "name": {
          "type": "String"
        },
        "amount": {
          "type": "Int",
          "default": 0,
          "optional": true
        },
        "status": {
          "type": "SingleSelect",
          "options": ["draft", "finalised", "sent", "paid"],
          "default": "draft",
          "enum": "InvoiceStatus"
        },
        "number": {
          "type": "String",
          "optional": true
        },
        "finalised_date": {
          "type": "DateTime",
          "optional": true
        },
        "id": {
          "type": "String",
          "primary": true,
          "default": "cuid()"
        },
        "created_at": {
          "type": "DateTime",
          "default": "now()"
        },
        "updated_at": {
          "type": "DateTime",
          "optional": true
        },
        "deleted_at": {
          "type": "DateTime",
          "optional": true
        }
      }
    }
  },
  "pages": {
    "/": {
      "title": "Invoices",
      "components": [
        {
          "key": "list",
          "table": "invoices",
          "fields": [
            {
              "key": "id",
              "label": "ID"
            },
            {
              "key": "name",
              "label": "Titre"
            },
            {
              "key": "amount",
              "label": "Montant"
            },
            {
              "key": "status",
              "label": "Statut",
              "options": [
                {
                  "key": "draft",
                  "label": "Brouillon"
                },
                {
                  "key": "finalised",
                  "label": "Finalisée"
                },
                {
                  "key": "sent",
                  "label": "Envoyée"
                },
                {
                  "key": "paid",
                  "label": "Payée"
                }
              ]
            },
            {
              "key": "finalised_date",
              "label": "Date de finalisation"
            },
            {
              "key": "created_date",
              "label": "Date de création"
            }
          ],
          "groupBy": [
            {
              "field": "status"
            }
          ],
          "sortBy": [
            {
              "field": "finalised_date",
              "order": "desc"
            },
            {
              "field": "created_date",
              "order": "desc"
            }
          ]
        }
      ]
    }
  }
}
