{
  "database": {
    "url": "file:./test.db",
    "provider": "sqlite"
  },
  "tables": {
    "tableName": {
      "stringField": {
        "type": "string",
        "nullable": true
      },
      "stringWithDefaultValueField": {
        "type": "string",
        "nullable": true,
        "default": "default value"
      },
      "integerField": {
        "type": "integer",
        "nullable": false
      },
      "integerWithDefaultValueField": {
        "type": "integer",
        "nullable": false,
        "default": 10
      },
      "datetimeField": {
        "type": "datetime",
        "nullable": true
      },
      "datetimeWithDefaultValueField": {
        "type": "datetime",
        "nullable": true,
        "default": "now()"
      },
      "booleanField": {
        "type": "boolean",
        "nullable": true
      },
      "booleanWithDefaultValueField": {
        "type": "boolean",
        "nullable": false,
        "default": true
      }
    }
  },
  "resources": {
    "math": {
      "type": "javascript",
      "source": "module.exports = {\n  add: function (a, b) {\n    return a + b;\n  }\n};"
    }
  },
  "actions": {
    "add": {
      "input": {
        "numbers": {
          "type": "array",
          "nullable": false,
          "items": {
            "type": "integer",
            "nullable": false
          }
        }
      },
      "output": {
        "result": {
          "type": "integer",
          "nullable": false
        }
      },
      "implementation": {
        "type": "javascript",
        "resources": [
          "math"
        ],
        "source": "return math.add(input.numbers[0], input.numbers[1]);"
      },
      "tests": {
        "shouldReturnSix": {
          "input": {
            "numbers": [
              1,
              2
            ]
          },
          "output": {
            "result": 3
          }
        }
      }
    }
  },
  "automations": {
    "add": {
      "trigger": "http",
      "actions": {
        "math": {
          "numbers": "$input.numbers"
        }
      },
      "tests": {
        "shouldReturnSix": {
          "input": {
            "numbers": [
              1,
              2,
              3
            ]
          },
          "output": {
            "result": 6
          }
        }
      }
    }
  }
}