Ubiquitous langage for "automations":

- app developer: person who writes a config in order to deploy an application with Foundation
- editable document: DOCX/XLSX/PPTX file hosted at a given URL of the application
- non-editable document: PDF file hosted at a given URL of the application
- record: a row in a SQL table of the app's database, as defined in the application configuration
- template: DOCX/XLSX/PPTX file that can be used as a model to generate a specific type of document; including some freely-identified fields that can be filled at runtime by an automation
- type of document: the definition of a document that can be generated by a Foundation app, in its config, from a template
- automation:
  - a sequence of _actions_ that the app developer can specify
    - e.g. to generate document from a template and data from one or several tables, which URL will be stored in a specified column
  - that can be triggered
    - on one or many _database change events_ (e.g. record created, record updated)

User stories for "automations":

- As a <persona>, I want to <action>, in order to <goal>
- As app developer, I want to define a template, in order to personalize the documents to be generated
- As app developer, I want to include record fields in templates, in order to populate the documents to be generated
  [] As app developer, I want to write an automation in order to generate a document whenever a record is created
- As app developer, I want to write an automation in order to generate a document whenever a record is updated
  [x] As app developer, I want to be warned at build time if my automation has invalid database references (e.g. non existing table or column), in order to allow me to correct it before deploying the application

Examples:

- Given an application with an automation and a DOCX template, when an invoice is created, then a PDF file is generated from the "draft_invoice.docx" template, downloable as a non-editable document (PDF) file from a particular URL
- Given an application with an automation and a DOCX template and an existing "draft" invoice, when I add a new line in the invoice, then a new non-editable document (PDF file) is generated from the "draft_invoice.docx" template + hosted at a dedicated URL, and the previous PDF file is deleted. The URL of the previous PDF file returns a 404.
- Given an application with an automation and a DOCX template, when an invoice is given a number, then a non-editable document (PDF file) is generated from the "finalised_invoice.docx" template

TODO later:

- As app developer, I want to write an automated test for my automation, in order to make sure that my automation works as expected for a particular trigger
  - example:
    - Given an automation that creates a PDF document when a record is created, and an expected [...]
    - When I run the tests
    - Then I am informed that the automation worked as expected (i.e. the test passed)
  - => questions: we may need a notion of "environments", so outcomes can be tested without impacting the actual database
